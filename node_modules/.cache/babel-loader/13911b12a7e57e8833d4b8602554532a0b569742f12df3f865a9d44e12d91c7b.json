{"ast":null,"code":"var _jsxFileName = \"/home/pritam/ContentStack/dynamic-form/src/Components/Form/Form.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, Fragment } from 'react';\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport EmptyForm from '../EmptyForm/EmptyForm';\nimport FormFields from '../FormFields/FormFields';\nimport './form.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Form = props => {\n  _s();\n  const [formData, updateFormData] = useState(props.form);\n  const onSubmit = useCallback((event, data) => {\n    event.preventDefault();\n    console.log('onSubmit', data);\n  }, []);\n  const updateOrder = useCallback((startIndex, endIndex) => {\n    const clonedData = [...formData];\n    const [removed] = clonedData.splice(startIndex, 1);\n    clonedData.splice(endIndex, 0, removed);\n    return clonedData;\n  }, []);\n  const onDragEnd = result => {\n    if (!result.destination) {\n      return;\n    }\n    const newOrderedFormData = updateOrder(result.source.index, result.destination.index);\n    updateFormData(newOrderedFormData);\n  };\n  const renderForm = (currentElement, index) => {\n    const {\n      uid\n    } = currentElement;\n    return /*#__PURE__*/_jsxDEV(Draggable, {\n      draggableId: uid,\n      index: index,\n      children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"field-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"reorder-icon\",\n          ref: provided.innerRef,\n          ...provided.draggableProps,\n          ...provided.dragHandleProps,\n          children: \"\\u2630\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(FormFields, {\n          currentElement: currentElement\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this)]\n      }, uid, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this)\n    }, uid, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this);\n  };\n  const renderComponents = () => {\n    if (!Array.isArray(formData) || formData.length === 0) {\n      return /*#__PURE__*/_jsxDEV(EmptyForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 20\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(DragDropContext, {\n        onDragEnd: onDragEnd,\n        children: /*#__PURE__*/_jsxDEV(Droppable, {\n          droppableId: \"droppable\",\n          children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: provided.innerRef,\n            ...provided.droppableProps,\n            children: [console.log(provided.placeholder), formData.map(renderForm), provided.placeholder]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onSubmit: onSubmit,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-wrapper\",\n    children: renderComponents()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this);\n};\n_s(Form, \"Neq+lzWdzM7np7z0mL/aREXwQC0=\");\n_c = Form;\nexport default Form;\nvar _c;\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["React","useState","useCallback","Fragment","DragDropContext","Droppable","Draggable","EmptyForm","FormFields","Form","props","formData","updateFormData","form","onSubmit","event","data","preventDefault","console","log","updateOrder","startIndex","endIndex","clonedData","removed","splice","onDragEnd","result","destination","newOrderedFormData","source","index","renderForm","currentElement","uid","provided","innerRef","draggableProps","dragHandleProps","renderComponents","Array","isArray","length","droppableProps","placeholder","map"],"sources":["/home/pritam/ContentStack/dynamic-form/src/Components/Form/Form.js"],"sourcesContent":["import React, { useState, useCallback, Fragment } from 'react';\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\n\nimport EmptyForm from '../EmptyForm/EmptyForm';\nimport FormFields from '../FormFields/FormFields';\n\nimport './form.css';\n\nconst Form = (props) => {\n\n    const [formData, updateFormData] = useState(props.form);\n\n    const onSubmit = useCallback((event, data) => {\n        event.preventDefault();\n        console.log('onSubmit', data);\n    }, [])\n\n    const updateOrder = useCallback((startIndex, endIndex) => {\n        const clonedData = [...formData];\n        const [removed] = clonedData.splice(startIndex, 1);\n        clonedData.splice(endIndex, 0, removed);\n\n        return clonedData;\n    }, []);\n\n    const onDragEnd = (result) => {\n        if (!result.destination) {\n            return;\n        }\n\n        const newOrderedFormData = updateOrder(\n            result.source.index,\n            result.destination.index\n        );\n\n        updateFormData(newOrderedFormData);\n    };\n\n    const renderForm = (currentElement, index) => {\n        const { uid } = currentElement;\n\n        return (\n            <Draggable key={uid} draggableId={uid} index={index}>\n                {(provided) => (\n                    <div key={uid} className=\"field-container\">\n                        <span\n                            className=\"reorder-icon\"\n                            ref={provided.innerRef}\n                            {...provided.draggableProps}\n                            {...provided.dragHandleProps}\n                        >\n                            &#9776;\n                        </span>\n                        <FormFields currentElement={currentElement} />\n                    </div>\n                )}\n            </Draggable>\n        )\n    }\n\n    const renderComponents = () => {\n        if (!Array.isArray(formData) || formData.length === 0) {\n            return <EmptyForm />;\n        }\n        return (\n            <form>\n                <DragDropContext onDragEnd={onDragEnd}>\n                    <Droppable droppableId=\"droppable\">\n                        {(provided) => (\n                            <div\n                            ref={provided.innerRef}\n                            {...provided.droppableProps}\n                            >\n                                {console.log(provided.placeholder)}\n                                {formData.map(renderForm)}\n                                {provided.placeholder}\n                            </div>\n                        )}\n                    </Droppable>\n                </DragDropContext>\n                <button type='submit' onSubmit={onSubmit}>Submit</button>\n            </form>\n        );\n    };\n\n    return (\n        <div className=\"main-wrapper\">\n            {renderComponents()}\n        </div>\n    );\n};\n\nexport default Form;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}