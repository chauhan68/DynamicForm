{"ast":null,"code":"var _jsxFileName = \"/home/pritam/ContentStack/dynamic-form/src/Components/Form/Form.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport { useForm } from \"react-hook-form\";\nimport EmptyForm from '../EmptyForm/EmptyForm';\nimport FormFields from '../FormFields/FormFields';\nimport './form.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Form = props => {\n  _s();\n  const {\n    register,\n    handleSubmit,\n    watch,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const [formData, updateFormData] = useState(props.form.slice(0, 1));\n  const onSubmit = (event, data) => {\n    event.preventDefault();\n    console.log('Data entered is', data);\n  };\n  const updateOrder = (startIndex, endIndex) => {\n    const clonedData = [...formData];\n    const [removed] = clonedData.splice(startIndex, 1);\n    clonedData.splice(endIndex, 0, removed);\n    return clonedData;\n  };\n  const onDragEnd = result => {\n    if (!result.destination) {\n      return;\n    }\n    const newOrderedFormData = updateOrder(result.source.index, result.destination.index);\n    updateFormData(newOrderedFormData);\n  };\n  const renderForm = (currentElement, index) => {\n    const {\n      uid\n    } = currentElement;\n    return /*#__PURE__*/_jsxDEV(Draggable, {\n      draggableId: uid,\n      index: index,\n      isDragDisabled: formData.length === 1,\n      children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"field-container\",\n        children: [formData.length > 1 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"reorder-icon\",\n          ref: provided.innerRef,\n          ...provided.draggableProps,\n          ...provided.dragHandleProps,\n          children: \"\\u2630\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(FormFields, {\n          currentElement: currentElement\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this)]\n      }, uid, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this)\n    }, uid, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this);\n  };\n  const renderComponents = () => {\n    if (!Array.isArray(formData) || formData.length === 0) {\n      return /*#__PURE__*/_jsxDEV(EmptyForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 20\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(DragDropContext, {\n        onDragEnd: onDragEnd,\n        children: /*#__PURE__*/_jsxDEV(Droppable, {\n          droppableId: \"droppable\",\n          children: provided => /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: provided.innerRef,\n            ...provided.droppableProps,\n            children: [formData.map(renderForm), provided.placeholder]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-wrapper\",\n    children: renderComponents()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 9\n  }, this);\n};\n_s(Form, \"CmkqO13SzS36iDUBMFaMNQxVnWw=\", false, function () {\n  return [useForm];\n});\n_c = Form;\nexport default Form;\nvar _c;\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["React","useState","DragDropContext","Droppable","Draggable","useForm","EmptyForm","FormFields","Form","props","register","handleSubmit","watch","formState","errors","formData","updateFormData","form","slice","onSubmit","event","data","preventDefault","console","log","updateOrder","startIndex","endIndex","clonedData","removed","splice","onDragEnd","result","destination","newOrderedFormData","source","index","renderForm","currentElement","uid","length","provided","innerRef","draggableProps","dragHandleProps","renderComponents","Array","isArray","droppableProps","map","placeholder"],"sources":["/home/pritam/ContentStack/dynamic-form/src/Components/Form/Form.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport { useForm } from \"react-hook-form\";\n\nimport EmptyForm from '../EmptyForm/EmptyForm';\nimport FormFields from '../FormFields/FormFields';\n\nimport './form.css';\n\nconst Form = (props) => {\n\n    const { register, handleSubmit, watch, formState: { errors } } = useForm();\n    const [formData, updateFormData] = useState(props.form.slice(0, 1));\n\n    const onSubmit = (event, data) => {\n        event.preventDefault();\n        console.log('Data entered is', data);\n    }\n\n    const updateOrder = (startIndex, endIndex) => {\n        const clonedData = [...formData];\n        const [removed] = clonedData.splice(startIndex, 1);\n        clonedData.splice(endIndex, 0, removed);\n\n        return clonedData;\n    };\n\n    const onDragEnd = (result) => {\n        if (!result.destination) {\n            return;\n        }\n\n        const newOrderedFormData = updateOrder(\n            result.source.index,\n            result.destination.index\n        );\n\n        updateFormData(newOrderedFormData);\n    };\n\n    const renderForm = (currentElement, index) => {\n        const { uid } = currentElement;\n\n        return (\n            <Draggable key={uid} draggableId={uid} index={index} isDragDisabled={formData.length === 1}>\n                {(provided) => (\n                    <div key={uid} className=\"field-container\">\n                        {formData.length > 1 && (\n                            <span\n                                className=\"reorder-icon\"\n                                ref={provided.innerRef}\n                                {...provided.draggableProps}\n                                {...provided.dragHandleProps}\n                            >\n                                &#9776;\n                            </span>\n                        )}\n                        <FormFields currentElement={currentElement} />\n                    </div>\n                )}\n            </Draggable>\n        )\n    }\n\n    const renderComponents = () => {\n        if (!Array.isArray(formData) || formData.length === 0) {\n            return <EmptyForm />;\n        }\n        return (\n            <form onSubmit={handleSubmit(onSubmit)}>\n                <DragDropContext onDragEnd={onDragEnd}>\n                    <Droppable droppableId=\"droppable\">\n                        {(provided) => (\n                            <div\n                                ref={provided.innerRef}\n                                {...provided.droppableProps}\n                            >\n                                {formData.map(renderForm)}\n                                {provided.placeholder}\n                            </div>\n                        )}\n                    </Droppable>\n                </DragDropContext>\n                <button type='submit'>Submit</button>\n            </form>\n        );\n    };\n\n    return (\n        <div className=\"main-wrapper\">\n            {renderComponents()}\n        </div>\n    );\n};\n\nexport default Form;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}